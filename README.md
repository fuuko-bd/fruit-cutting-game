# 🐛 果物むしくいゲーム 🐝

プロジェクターとスマホを連携したインタラクティブな果物むしくいゲームです。

## 🎯 概要

- **プロジェクター画面**: 果物が飛んでくるアニメーションを表示
- **スマホ操作**: タップやフリックで「むしくい」アクションを実行
- **リアルタイム通信**: WebSocketでスマホとPC間の通信を実現
- **視覚的演出**: 果物がむしくわれる瞬間のパーティクルエフェクト

## 🚀 セットアップ

### 必要な環境
- Node.js (v14以上)
- npm または yarn

### インストール

```bash
# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev
```

### 起動方法

```bash
# 本番サーバーを起動
npm start
```

サーバーが起動すると、以下のURLでアクセスできます：

- **メインゲーム画面**: http://localhost:3000
- **スマホコントローラー**: http://localhost:3000/controller

## 🎮 遊び方

### 1. ゲーム開始
1. PCでメインゲーム画面を開く
2. 「ゲーム開始」ボタンを押す
3. 表示されるURLをスマホで開く

### 2. スマホ操作
- **タッチパッド**: 指でドラッグして虫を移動
- **むしくい**: 指を離すとその位置でむしくう
- **ダブルタップ**: カーソル位置でむしくう

### 3. ゲームルール
- 飛んでくる果物をむしくってスコアを獲得
- 連続でむしくうとコンボボーナス
- 60秒の制限時間内に高スコアを目指す
- 参加者ごとにランダムな虫が割り当てられる

## 📱 対応デバイス

### プロジェクター用（PC）
- Chrome, Firefox, Safari, Edge
- 大きな画面での表示に最適化

### スマホコントローラー
- iOS Safari
- Android Chrome
- タッチ操作に最適化

## 🛠️ 技術仕様

### フロントエンド
- **HTML5 Canvas**: ゲーム描画
- **Socket.io Client**: リアルタイム通信
- **CSS3**: アニメーションとレスポンシブデザイン
- **JavaScript ES6+**: ゲームロジック

### バックエンド
- **Node.js**: サーバー環境
- **Express**: Webサーバー
- **Socket.io**: WebSocket通信
- **CORS**: クロスオリジン対応

## 📁 ファイル構成

```
fruit-cutting-game/
├── index.html          # メインゲーム画面
├── controller.html     # スマホコントローラー
├── game.js            # メインゲームロジック
├── controller.js      # コントローラーロジック
├── style.css          # メイン画面スタイル
├── controller-style.css # コントローラースタイル
├── server.js          # WebSocketサーバー
├── package.json       # 依存関係管理
└── README.md          # このファイル
```

## 🔧 カスタマイズ

### 果物の種類を追加
`game.js`の`fruitTypes`配列に新しい果物を追加：

```javascript
{ name: 'strawberry', emoji: '🍓', points: 35, speed: 2.8 }
```

### むしくいエフェクトの変更
`game.js`の`createSlashEffect`関数でパーティクル効果をカスタマイズ

### ゲーム時間の調整
`game.js`の`startGame`関数で`timeLeft`の値を変更

## 🐛 トラブルシューティング

### 接続エラー
1. サーバーが起動しているか確認
2. ファイアウォールの設定を確認
3. ブラウザのコンソールでエラーメッセージを確認

### スマホで操作できない
1. 同じWiFiネットワークに接続しているか確認
2. スマホのブラウザでタッチイベントが有効か確認
3. デバイスの向きを縦向きに固定

### パフォーマンスの問題
1. ブラウザを最新版に更新
2. 他のタブやアプリを閉じる
3. ハードウェアアクセラレーションを有効にする

## 📞 サポート

問題が発生した場合は、以下を確認してください：

1. ブラウザのコンソールでエラーメッセージを確認
2. サーバーのログを確認
3. ネットワーク接続を確認

## 📄 ライセンス

MIT License

## 🤝 貢献

プルリクエストやイシューの報告を歓迎します！

---

**楽しんでプレイしてください！** 🎮✨ 